<script>function tokenExplorer(){return{resource:"transfers",transfers:[],balances:[],address:gup("address"),depleted:{},loading:!1,methods:{transfers:Xeta.transfer.scanTokenCreated,balances:Xeta.balance.scanTokenAmount},inputs:{transfers:"token",balances:"token"},init(){this.load(this.resource)},load(t){var e,n,s;this.resource=t,this.loading||this.depleted[t]||(this.loading=!0,e=this[t].length?this[t].slice(-1)[0]:{},n=this,s=Alpine.store("token"),this.methods[t]({...e,[this.inputs[t]]:this.address},{preview:!0}).then(function(e){e.length||(n.depleted[t]=!0),"balances"==t&&s&&s.supplpy&&e.forEach(function(e){e.percentage=Big(e.amount).div(s.supply).mul(100).round(4).toString()}),n[t]=n[t].concat(e),n.loading=!1}).catch(function(e){if(n.loading=!1,"quota:limited"!=e.message)throw e;window.location.href="/pages/quota"}))}}}</script><div x-data="tokenExplorer"><div class="bg-black rounded-2xl px-2 pt-2 mb-2 text-sm font-light text-gray-200 section"><div class="flex flex-wrap"><template x-for="type in ($store.token.supply ? ['transfers', 'balances'] : ['transfers'])"><div @click="load(type)" :class="{'border-pink-700': resource == type}" class="inline border-b-4 border-gray-900 hover:border-pink-700 px-4 py-2 cursor-pointer capitalize" x-text="type.replace('balances', 'holders')"></div></template></div></div><div class="bg-black rounded-2xl py-4 mb-4 lg:mb-12"><div class="flex justify-between items-center px-6"><p class="text-lg py-2 text-gray-100 capitalize" x-text="resource"></p></div><div x-cloak x-show="resource == 'transfers'"><table class="w-full table-fixed font-light text-sm explorer"><thead><tr class="text-gray-400"><th class="truncate py-2 pr-4 text-left uppercase w-2/12">Hash</th><th class="truncate py-2 pr-4 text-left uppercase w-2/12">Created</th><th class="truncate py-2 pr-4 text-left uppercase w-2/12">Amount</th><th class="truncate py-2 pr-4 text-left uppercase w-3/12 hidden md:table-cell">From</th><th class="truncate py-2 pr-4 text-left uppercase w-3/12 hidden md:table-cell">To</th></tr></thead><tbody><template x-for="transfer in transfers"><tr class="text-white"><td class="truncate pr-4 py-2" x-html="Wrap.transfer(transfer.hash)"></td><td class="truncate pr-4 py-2" x-text="formatTime(transfer.created)"></td><td class="truncate pr-4 py-2" x-html="Wrap.amount(transfer.amount, transfer.token, transfer.tokenPreview)"></td><td class="truncate pr-4 py-2 hidden md:table-cell" x-html="Wrap.address(transfer.from)"></td><td class="truncate pr-4 py-2 hidden md:table-cell" x-html="Wrap.address(transfer.to)"></td></tr></template></tbody></table></div><div x-cloak x-show="resource == 'balances'"><table class="w-full table-fixed font-light text-sm explorer"><thead><tr class="text-gray-400"><th class="truncate py-2 pr-4 text-left uppercase w-1/3">Address</th><th class="truncate py-2 pr-4 text-left uppercase w-1/3">Token</th><th class="truncate py-2 pr-4 text-left uppercase w-1/4">Amount</th><th x-cloak x-show="balances.length && balances[0].percentage" class="truncate py-2 pr-4 text-left uppercase w-1/4 hidden md:table-cell">Percent</th></tr></thead><tbody><template x-for="balance in balances"><tr class="hover:bg-gray-900 text-white"><td class="truncate pr-4 py-2" x-html="Wrap.address(balance.address)"></td><td class="truncate pr-4 py-2" x-html="Wrap.token(balance.token)"></td><td class="truncate pr-4 py-2" x-html="Wrap.amount(balance.amount, balance.token, balance.tokenPreview)"></td><td x-cloak x-show="balance.percentage" class="truncate pr-4 py-2 hidden md:table-cell" x-html="balance.percentage+'%'"></td></tr></template></tbody></table></div><div x-show="!depleted[resource] && $data[resource].length % 25 == 0" class="pt-6 flex justify-center text-sm"><span @click="load(resource)" class="cursor-pointer underline w-full text-center text-sm text-gray-100 py-2 hover:bg-gray-900 rounded">Load more</span></div></div></div>