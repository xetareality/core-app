<script>function inputModal(){return{transacting:!1,inputs:[],title:null,description:null,function:null,values:{},init(){var n=this;this.inputs.forEach(function(t){null==n.values[t.name]&&(t.value?n.values[t.name]=Alpine.store(t.value.split(".")[0])[t.value.split(".")[1]]:n.values[t.name]=null)})},data(){var a=Object.fromEntries(this.inputs.map(function(t){return[t.name,t.type]})),e={};return Object.entries(this.values).forEach(function(t){var n="string"==typeof t[1]?t[1].trim():t[1];null!=n&&""!=n&&(n="string"==a[t[0]]?String(n):"strings"==a[t[0]]?n.split(String.fromCharCode(10)):"number"==a[t[0]]?parseFloat(n):"numbers"==a[t[0]]?n.split(String.fromCharCode(10)).map(function(t){return parseFloat(t)}):"hash"==a[t[0]]?String(n):"hashes"==a[t[0]]?n.split(String.fromCharCode(10)):"text"==a[t[0]]?String(n):"integer"==a[t[0]]||"timestamp"==a[t[0]]?parseInt(n):"amount"==a[t[0]]?String(n):"boolean"==a[t[0]]?!!n:"object"==a[t[0]]?JSON.parse(n):String(n),e[t[0]]=n)}),e},submit(){var n;this.transacting||(Xeta.config.privateKey?((n=this).transacting=!0,Xeta.instruction.wrap(Object.assign({},{function:this.function},this.data())).then(function(t){["address.update","token.update","claim.update","claim.resolve"].includes(n.function)?window.location.reload():window.location.href="/transaction/?hash="+t.hash}).catch(function(t){console.log(t.message),n.transacting=!1,alert(t)})):alert("Please (re)connect your wallet."))}}}</script><div x-cloak name="inputModal" id="input-modal" x-show.transition.opacity="$store.modal == 'inputModal'" x-data="inputModal" class="z-50 fixed w-full h-full top-0 left-0"><div @click="hideModal()" class="backdrop absolute w-full h-full bg-black opacity-75 z-0"></div><div @click="hideModal()" class="relative cursor-pointer flex w-full justify-center py-4 text-white text-sm z-50"><svg class="fill-current text-white mt-0.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path></svg> <span class="ml-1">Close</span></div><div class="overflow-scroll max-h-full mx-auto w-full md:w-1/2 pb-32 z-50 relative"><div class="rounded-2xl shadow w-full relative bg-pink-900 px-2 lg:px-8 py-4 bg-top bg-cover" style="background-image:url(/media/background.jpg)"><p class="w-full px-4 pb-4 text-2xl text-center text-white" x-text="title"></p><p class="w-full px-4 pb-4 text-sm text-center text-white" x-text="description"></p><div x-cloak x-show="transacting" class="flex justify-center"><div class="spinner"></div></div><form x-cloak x-show="!transacting" x-data><template x-for="input in inputs"><div class="mb-6 w-full"><label class="text-gray-200 text-xs font-semibold uppercase mb-2 block" x-text="input.name+(input.required ? ' (required)' : '')"></label><template x-if="['hash', 'string'].includes(input.type)"><div><input x-model="values[input.name]" :data-rules="JSON.stringify(['maxLength:256']
                                        .concat(input.required ? 'required' : 'optional')
                                        .concat(input.type == 'hash' ? ['minLength:32', 'maxLength:44'] : []))" @input="validate($el)" @blur="validate($el)" type="text" class="rounded-2xl shadow border-pink-300 border-opacity-50 focus:border-pink-400 border-2 transition-all px-4 py-2 bg-transparent text-gray-100 outline-none focus:outline-none overflow-hidden w-full focus:ring focus:ring-purple-500"><p class="text-gray-200 text-xs mt-2 hidden"></p></div></template><template x-if="['integer', 'timestamp'].includes(input.type)"><div><input x-model="values[input.name]" :data-rules="JSON.stringify(['min:0']
                                        .concat(input.required ? 'required' : 'optional')
                                        .concat(input.type == 'timestamp' ? ['minLength:13', 'maxLength:13']: []))" @input="validate($el)" @blur="validate($el)" type="number" class="rounded-2xl shadow border-pink-300 border-opacity-50 focus:border-pink-400 border-2 transition-all px-4 py-2 bg-transparent text-gray-100 outline-none focus:outline-none overflow-hidden w-full focus:ring focus:ring-purple-500"><p class="text-gray-200 text-xs mt-2 hidden"></p></div></template><template x-if="['number', 'amount'].includes(input.type)"><div><input x-model="values[input.name]" :data-rules="JSON.stringify(['min:0']
                                        .concat(input.required ? 'required' : 'optional'))" @input="validate($el)" @blur="validate($el)" type="number" class="rounded-2xl shadow border-pink-300 border-opacity-50 focus:border-pink-400 border-2 transition-all px-4 py-2 bg-transparent text-gray-100 outline-none focus:outline-none overflow-hidden w-full focus:ring focus:ring-purple-500"><p class="text-gray-200 text-xs mt-2 hidden"></p></div></template><template x-if="['text', 'object', 'strings', 'hashes', 'numbers'].includes(input.type)"><div><span x-cloak x-show="['strings', 'hashes', 'numbers'].includes(input.type)" class="text-gray-200 text-xs capitalize mb-2 block">One per line</span> <textarea x-model="values[input.name]" :data-rules="JSON.stringify(['maxLength:8192']
                                        .concat(input.type == 'object' ? 'json' : [])
                                        .concat(input.required ? 'required' : []))" @input="validate($el)" @blur="validate($el)" type="text" rows="3" class="rounded-2xl shadow border-pink-300 border-opacity-50 focus:border-pink-400 border-2 transition-all px-4 py-2 bg-transparent text-gray-100 font-light outline-none focus:outline-none overflow-hidden w-full focus:ring focus:ring-purple-500"></textarea><p class="text-gray-200 text-xs mt-2 hidden"></p></div></template><template x-if="['boolean'].includes(input.type)"><div><label class="text-gray-200 text-xs font-semibold uppercase mb-2 block cursor-pointer items-center flex select-none"><input :checked="values[input.name]" x-model="values[input.name]" type="checkbox" class="mr-2 h-6 w-6"> <span>Yes</span></label></div></template></div></template><div><button @click.prevent="validForm($root) ? submit() : ''" type="submit" class="cursor-pointer text-white py-2 px-4 rounded-2xl block text-center bg-black hover:bg-gray-800 transition-all w-full focus:ring focus:ring-purple-500">Submit</button></div></form></div></div></div>