<script>
function loadAddressPreview() {
    return {
        address: {},
        active: window.location.pathname.slice(1, -1) != 'pool',
        init() {
            var self = this
            document.addEventListener('resourceLoaded', function (e) {
                var data = Alpine.store('address')
                self.address = Object.assign({}, data.token, data.balance)
            })
        }
    }
}
</script>

<div x-data="loadAddressPreview()">
    <div class="bg-black rounded-2xl px-6 py-4 mb-4 lg:mb-12 section">
        <p class="text-lg py-2 text-gray-100">Address</p>
        <div class="flex flex-wrap">
            <div class="w-full mb-4 text-white">
                <div x-cloak x-show="address.icon" class="text-center rounded-2xl bg-gray-900 flex justify-center bg-center bg-cover relative" style="background-image: url(/media/pattern01.jpeg)">
                    <div class="w-1/2 md:w-1/4 md:py-8 z-50">
                        <img class="rounded-2xl w-full object-center object-cover shadow" :src="address.icon">
                    </div>
                    <div class="bg-black opacity-50 w-full h-full absolute rounded-2xl z-10"></div>
                </div>

                <div class="mt-6">
                    <p x-cloak x-show="address.name" class="text-xl my-2 text-gray-400 font-normal text-white" x-text="address.name"></p>
                    <p x-cloak x-show="address.description" class="font-ligh pb-2 flex justify-center text-gray-200" x-text="address.description"></p>
                    <ul x-cloak x-show="address.links" class="flex justify-start font-light text-sm list-none">
                        <template x-for="link in (address.links ? address.links : [])">
                            <li><a x-text="link.slice(0, 50)+(link.length > 50 ? '...' : '')" rel="nofollow noopener" :href="link" class="underline hover:text-pink-400 truncate pb-1 mr-2"></a></li>
                        </template>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>